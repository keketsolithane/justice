{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Routes,Route,Navigate,useNavigate}from'react-router-dom';import Login from'./Login';import Register from'./Register';import Home from'./Home';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[user,setUser]=useState(null);// {username, role}\n// Persist login in localStorage\nuseEffect(()=>{const savedUser=JSON.parse(localStorage.getItem('user'));if(savedUser)setUser(savedUser);},[]);const login=userData=>{setUser(userData);localStorage.setItem('user',JSON.stringify(userData));};const logout=()=>{setUser(null);localStorage.removeItem('user');};return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/home\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/home\"}):/*#__PURE__*/_jsx(Login,{onLogin:login})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/home\"}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:user&&user.role==='admin'?/*#__PURE__*/_jsx(Home,{user:user,onLogout:logout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\"})})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Routes","Route","Navigate","useNavigate","Login","Register","Home","jsx","_jsx","jsxs","_jsxs","App","user","setUser","savedUser","JSON","parse","localStorage","getItem","login","userData","setItem","stringify","logout","removeItem","children","path","element","to","onLogin","role","onLogout"],"sources":["C:/Users/Lithanekeketso/Desktop/Admin_Portatal/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Routes, Route, Navigate, useNavigate } from 'react-router-dom';\n\nimport Login from './Login';\nimport Register from './Register';\nimport Home from './Home';\n\nfunction App() {\n  const [user, setUser] = useState(null); // {username, role}\n\n  // Persist login in localStorage\n  useEffect(() => {\n    const savedUser = JSON.parse(localStorage.getItem('user'));\n    if (savedUser) setUser(savedUser);\n  }, []);\n\n  const login = (userData) => {\n    setUser(userData);\n    localStorage.setItem('user', JSON.stringify(userData));\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem('user');\n  };\n\n  return (\n    <Routes>\n      <Route\n        path=\"/\"\n        element={user ? <Navigate to=\"/home\" /> : <Navigate to=\"/login\" />}\n      />\n      <Route\n        path=\"/login\"\n        element={\n          user ? (\n            <Navigate to=\"/home\" />\n          ) : (\n            <Login onLogin={login} />\n          )\n        }\n      />\n      <Route\n        path=\"/register\"\n        element={user ? <Navigate to=\"/home\" /> : <Register />}\n      />\n      <Route\n        path=\"/home\"\n        element={\n          user && user.role === 'admin' ? (\n            <Home user={user} onLogout={logout} />\n          ) : (\n            <Navigate to=\"/login\" />\n          )\n        }\n      />\n      <Route path=\"*\" element={<Navigate to=\"/\" />} />\n    </Routes>\n  );\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,WAAW,KAAQ,kBAAkB,CAEvE,MAAO,CAAAC,KAAK,KAAM,SAAS,CAC3B,MAAO,CAAAC,QAAQ,KAAM,YAAY,CACjC,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAAE;AAExC;AACAC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,SAAS,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAC1D,GAAIJ,SAAS,CAAED,OAAO,CAACC,SAAS,CAAC,CACnC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAK,KAAK,CAAIC,QAAQ,EAAK,CAC1BP,OAAO,CAACO,QAAQ,CAAC,CACjBH,YAAY,CAACI,OAAO,CAAC,MAAM,CAAEN,IAAI,CAACO,SAAS,CAACF,QAAQ,CAAC,CAAC,CACxD,CAAC,CAED,KAAM,CAAAG,MAAM,CAAGA,CAAA,GAAM,CACnBV,OAAO,CAAC,IAAI,CAAC,CACbI,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CAED,mBACEd,KAAA,CAACV,MAAM,EAAAyB,QAAA,eACLjB,IAAA,CAACP,KAAK,EACJyB,IAAI,CAAC,GAAG,CACRC,OAAO,CAAEf,IAAI,cAAGJ,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,OAAO,CAAE,CAAC,cAAGpB,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,QAAQ,CAAE,CAAE,CACpE,CAAC,cACFpB,IAAA,CAACP,KAAK,EACJyB,IAAI,CAAC,QAAQ,CACbC,OAAO,CACLf,IAAI,cACFJ,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,OAAO,CAAE,CAAC,cAEvBpB,IAAA,CAACJ,KAAK,EAACyB,OAAO,CAAEV,KAAM,CAAE,CAE3B,CACF,CAAC,cACFX,IAAA,CAACP,KAAK,EACJyB,IAAI,CAAC,WAAW,CAChBC,OAAO,CAAEf,IAAI,cAAGJ,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,OAAO,CAAE,CAAC,cAAGpB,IAAA,CAACH,QAAQ,GAAE,CAAE,CACxD,CAAC,cACFG,IAAA,CAACP,KAAK,EACJyB,IAAI,CAAC,OAAO,CACZC,OAAO,CACLf,IAAI,EAAIA,IAAI,CAACkB,IAAI,GAAK,OAAO,cAC3BtB,IAAA,CAACF,IAAI,EAACM,IAAI,CAAEA,IAAK,CAACmB,QAAQ,CAAER,MAAO,CAAE,CAAC,cAEtCf,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,QAAQ,CAAE,CAE1B,CACF,CAAC,cACFpB,IAAA,CAACP,KAAK,EAACyB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEnB,IAAA,CAACN,QAAQ,EAAC0B,EAAE,CAAC,GAAG,CAAE,CAAE,CAAE,CAAC,EAC1C,CAAC,CAEb,CAEA,cAAe,CAAAjB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}