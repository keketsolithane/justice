{"ast":null,"code":"import React,{useState}from'react';import{createClient}from'@supabase/supabase-js';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const SUPABASE_URL='https://vhztoaoderjbeientrtn.supabase.co';const SUPABASE_ANON_KEY='sb_publishable_1a9vPsiBaUTqk5diLkpLQA_AWVa3J3n';const supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY);function Home(_ref){let{user,onLogout}=_ref;const[quotes,setQuotes]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[showTable,setShowTable]=useState(false);const handleQuotes=()=>{alert('Quotes button clicked!');};const handleRequests=async()=>{setLoading(true);setError(null);setShowTable(false);try{let{data,error}=await supabase.from('quotes').select('*');if(error)throw error;setQuotes(data);setShowTable(true);}catch(err){setError('Failed to fetch quotes: '+err.message);}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container home-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",user.username,\" (Admin)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleQuotes,children:\"Quotes\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRequests,children:\"Requests\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,className:\"logout-btn\",children:\"Logout\"})]}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading requests...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),showTable&&quotes.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(quotes[0]).map(col=>/*#__PURE__*/_jsx(\"th\",{children:col},col))})}),/*#__PURE__*/_jsx(\"tbody\",{children:quotes.map((quote,idx)=>/*#__PURE__*/_jsx(\"tr\",{children:Object.values(quote).map((val,i)=>/*#__PURE__*/_jsx(\"td\",{children:val===null||val===void 0?void 0:val.toString()},i))},idx))})]})}),showTable&&quotes.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No requests found.\"})]});}export default Home;","map":{"version":3,"names":["React","useState","createClient","jsxs","_jsxs","jsx","_jsx","SUPABASE_URL","SUPABASE_ANON_KEY","supabase","Home","_ref","user","onLogout","quotes","setQuotes","loading","setLoading","error","setError","showTable","setShowTable","handleQuotes","alert","handleRequests","data","from","select","err","message","className","children","username","onClick","length","Object","keys","map","col","quote","idx","values","val","i","toString"],"sources":["C:/Users/Lithanekeketso/Desktop/Admin_Portatal/src/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { createClient } from '@supabase/supabase-js';\n\nconst SUPABASE_URL = 'https://vhztoaoderjbeientrtn.supabase.co';\nconst SUPABASE_ANON_KEY = 'sb_publishable_1a9vPsiBaUTqk5diLkpLQA_AWVa3J3n'; \n\nconst supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);\n\nfunction Home({ user, onLogout }) {\n  const [quotes, setQuotes] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showTable, setShowTable] = useState(false);\n\n  const handleQuotes = () => {\n    alert('Quotes button clicked!');\n  };\n\n  const handleRequests = async () => {\n    setLoading(true);\n    setError(null);\n    setShowTable(false);\n    try {\n      let { data, error } = await supabase\n        .from('quotes')\n        .select('*');\n\n      if (error) throw error;\n\n      setQuotes(data);\n      setShowTable(true);\n    } catch (err) {\n      setError('Failed to fetch quotes: ' + err.message);\n    }\n    setLoading(false);\n  };\n\n  return (\n    <div className=\"container home-container\">\n      <h1>Welcome, {user.username} (Admin)</h1>\n      <div className=\"button-group\">\n        <button onClick={handleQuotes}>Quotes</button>\n        <button onClick={handleRequests}>Requests</button>\n        <button onClick={onLogout} className=\"logout-btn\">\n          Logout\n        </button>\n      </div>\n\n      {loading && <p>Loading requests...</p>}\n      {error && <p className=\"error\">{error}</p>}\n\n      {showTable && quotes.length > 0 && (\n        <div className=\"table-wrapper\">\n          <table>\n            <thead>\n              <tr>\n                {/* Adjust columns below to your table structure */}\n                {Object.keys(quotes[0]).map((col) => (\n                  <th key={col}>{col}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {quotes.map((quote, idx) => (\n                <tr key={idx}>\n                  {Object.values(quote).map((val, i) => (\n                    <td key={i}>{val?.toString()}</td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {showTable && quotes.length === 0 && <p>No requests found.</p>}\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,YAAY,KAAQ,uBAAuB,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAErD,KAAM,CAAAC,YAAY,CAAG,0CAA0C,CAC/D,KAAM,CAAAC,iBAAiB,CAAG,gDAAgD,CAE1E,KAAM,CAAAC,QAAQ,CAAGP,YAAY,CAACK,YAAY,CAAEC,iBAAiB,CAAC,CAE9D,QAAS,CAAAE,IAAIA,CAAAC,IAAA,CAAqB,IAApB,CAAEC,IAAI,CAAEC,QAAS,CAAC,CAAAF,IAAA,CAC9B,KAAM,CAACG,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACe,OAAO,CAAEC,UAAU,CAAC,CAAGhB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACiB,KAAK,CAAEC,QAAQ,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACmB,SAAS,CAAEC,YAAY,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CAEjD,KAAM,CAAAqB,YAAY,CAAGA,CAAA,GAAM,CACzBC,KAAK,CAAC,wBAAwB,CAAC,CACjC,CAAC,CAED,KAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACjCP,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CACdE,YAAY,CAAC,KAAK,CAAC,CACnB,GAAI,CACF,GAAI,CAAEI,IAAI,CAAEP,KAAM,CAAC,CAAG,KAAM,CAAAT,QAAQ,CACjCiB,IAAI,CAAC,QAAQ,CAAC,CACdC,MAAM,CAAC,GAAG,CAAC,CAEd,GAAIT,KAAK,CAAE,KAAM,CAAAA,KAAK,CAEtBH,SAAS,CAACU,IAAI,CAAC,CACfJ,YAAY,CAAC,IAAI,CAAC,CACpB,CAAE,MAAOO,GAAG,CAAE,CACZT,QAAQ,CAAC,0BAA0B,CAAGS,GAAG,CAACC,OAAO,CAAC,CACpD,CACAZ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,mBACEb,KAAA,QAAK0B,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACvC3B,KAAA,OAAA2B,QAAA,EAAI,WAAS,CAACnB,IAAI,CAACoB,QAAQ,CAAC,UAAQ,EAAI,CAAC,cACzC5B,KAAA,QAAK0B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BzB,IAAA,WAAQ2B,OAAO,CAAEX,YAAa,CAAAS,QAAA,CAAC,QAAM,CAAQ,CAAC,cAC9CzB,IAAA,WAAQ2B,OAAO,CAAET,cAAe,CAAAO,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAClDzB,IAAA,WAAQ2B,OAAO,CAAEpB,QAAS,CAACiB,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,QAElD,CAAQ,CAAC,EACN,CAAC,CAELf,OAAO,eAAIV,IAAA,MAAAyB,QAAA,CAAG,qBAAmB,CAAG,CAAC,CACrCb,KAAK,eAAIZ,IAAA,MAAGwB,SAAS,CAAC,OAAO,CAAAC,QAAA,CAAEb,KAAK,CAAI,CAAC,CAEzCE,SAAS,EAAIN,MAAM,CAACoB,MAAM,CAAG,CAAC,eAC7B5B,IAAA,QAAKwB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC5B3B,KAAA,UAAA2B,QAAA,eACEzB,IAAA,UAAAyB,QAAA,cACEzB,IAAA,OAAAyB,QAAA,CAEGI,MAAM,CAACC,IAAI,CAACtB,MAAM,CAAC,CAAC,CAAC,CAAC,CAACuB,GAAG,CAAEC,GAAG,eAC9BhC,IAAA,OAAAyB,QAAA,CAAeO,GAAG,EAATA,GAAc,CACxB,CAAC,CACA,CAAC,CACA,CAAC,cACRhC,IAAA,UAAAyB,QAAA,CACGjB,MAAM,CAACuB,GAAG,CAAC,CAACE,KAAK,CAAEC,GAAG,gBACrBlC,IAAA,OAAAyB,QAAA,CACGI,MAAM,CAACM,MAAM,CAACF,KAAK,CAAC,CAACF,GAAG,CAAC,CAACK,GAAG,CAAEC,CAAC,gBAC/BrC,IAAA,OAAAyB,QAAA,CAAaW,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEE,QAAQ,CAAC,CAAC,EAAnBD,CAAwB,CAClC,CAAC,EAHKH,GAIL,CACL,CAAC,CACG,CAAC,EACH,CAAC,CACL,CACN,CAEApB,SAAS,EAAIN,MAAM,CAACoB,MAAM,GAAK,CAAC,eAAI5B,IAAA,MAAAyB,QAAA,CAAG,oBAAkB,CAAG,CAAC,EAC3D,CAAC,CAEV,CAEA,cAAe,CAAArB,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}