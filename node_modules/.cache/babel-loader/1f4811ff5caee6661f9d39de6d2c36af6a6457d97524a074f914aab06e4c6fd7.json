{"ast":null,"code":"import React,{useState}from'react';import{createClient}from'@supabase/supabase-js';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const SUPABASE_URL='https://vhztoaoderjbeientrtn.supabase.co';const SUPABASE_ANON_KEY='sb_publishable_1a9vPsiBaUTqk5diLkpLQA_AWVa3J3n';const supabase=createClient(SUPABASE_URL,SUPABASE_ANON_KEY);function Home(_ref){let{user,onLogout}=_ref;const[messages,setMessages]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[showTable,setShowTable]=useState(false);// Messages button handler (formerly Quotes)\nconst handleMessages=async()=>{setLoading(true);setError(null);setShowTable(false);try{let{data,error}=await supabase.from('messages')// changed table from 'quotes' to 'messages'\n.select('*');if(error)throw error;setMessages(data);setShowTable(true);}catch(err){setError('Failed to fetch messages: '+err.message);}setLoading(false);};// Requests button handler stays as you had it\nconst handleRequests=()=>{alert('Requests button clicked!');};return/*#__PURE__*/_jsxs(\"div\",{className:\"container home-container\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcome, \",user.username,\" (Admin)\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-group\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleMessages,children:\"Messages\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:handleRequests,children:\"Requests\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onLogout,className:\"logout-btn\",children:\"Logout\"})]}),loading&&/*#__PURE__*/_jsx(\"p\",{children:\"Loading messages...\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:error}),showTable&&messages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"table-wrapper\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:Object.keys(messages[0]).map(col=>/*#__PURE__*/_jsx(\"th\",{children:col},col))})}),/*#__PURE__*/_jsx(\"tbody\",{children:messages.map((msg,idx)=>/*#__PURE__*/_jsx(\"tr\",{children:Object.values(msg).map((val,i)=>/*#__PURE__*/_jsx(\"td\",{children:val===null||val===void 0?void 0:val.toString()},i))},idx))})]})}),showTable&&messages.length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No messages found.\"})]});}export default Home;","map":{"version":3,"names":["React","useState","createClient","jsxs","_jsxs","jsx","_jsx","SUPABASE_URL","SUPABASE_ANON_KEY","supabase","Home","_ref","user","onLogout","messages","setMessages","loading","setLoading","error","setError","showTable","setShowTable","handleMessages","data","from","select","err","message","handleRequests","alert","className","children","username","onClick","length","Object","keys","map","col","msg","idx","values","val","i","toString"],"sources":["C:/Users/Lithanekeketso/Desktop/Admin_Portatal/src/Home.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { createClient } from '@supabase/supabase-js';\n\nconst SUPABASE_URL = 'https://vhztoaoderjbeientrtn.supabase.co';\nconst SUPABASE_ANON_KEY = 'sb_publishable_1a9vPsiBaUTqk5diLkpLQA_AWVa3J3n'; \n\nconst supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);\n\nfunction Home({ user, onLogout }) {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showTable, setShowTable] = useState(false);\n\n  // Messages button handler (formerly Quotes)\n  const handleMessages = async () => {\n    setLoading(true);\n    setError(null);\n    setShowTable(false);\n    try {\n      let { data, error } = await supabase\n        .from('messages') // changed table from 'quotes' to 'messages'\n        .select('*');\n\n      if (error) throw error;\n\n      setMessages(data);\n      setShowTable(true);\n    } catch (err) {\n      setError('Failed to fetch messages: ' + err.message);\n    }\n    setLoading(false);\n  };\n\n  // Requests button handler stays as you had it\n  const handleRequests = () => {\n    alert('Requests button clicked!');\n  };\n\n  return (\n    <div className=\"container home-container\">\n      <h1>Welcome, {user.username} (Admin)</h1>\n      <div className=\"button-group\">\n        <button onClick={handleMessages}>Messages</button> {/* renamed from Quotes */}\n        <button onClick={handleRequests}>Requests</button>\n        <button onClick={onLogout} className=\"logout-btn\">\n          Logout\n        </button>\n      </div>\n\n      {loading && <p>Loading messages...</p>}\n      {error && <p className=\"error\">{error}</p>}\n\n      {showTable && messages.length > 0 && (\n        <div className=\"table-wrapper\">\n          <table>\n            <thead>\n              <tr>\n                {Object.keys(messages[0]).map((col) => (\n                  <th key={col}>{col}</th>\n                ))}\n              </tr>\n            </thead>\n            <tbody>\n              {messages.map((msg, idx) => (\n                <tr key={idx}>\n                  {Object.values(msg).map((val, i) => (\n                    <td key={i}>{val?.toString()}</td>\n                  ))}\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {showTable && messages.length === 0 && <p>No messages found.</p>}\n    </div>\n  );\n}\n\nexport default Home;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}